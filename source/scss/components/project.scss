@use "../variables";
@use "../mixins";

.project {
  display: grid;
  grid-template-columns: 1fr min(80%, variables.$content-max-width) 1fr;
  gap: variables.$space-24 0;

  > * {
    min-width: 0;
  }

  & + & {
    margin-top: variables.$space-64;
  }

  @include mixins.bp-md-up {
    gap: variables.$space-32 0;

    & + & {
      margin-top: variables.$space-80;
    }
  }

  @include mixins.bp-lg-up {
    gap: variables.$space-40 0;

    & + & {
      margin-top: variables.$space-120;
    }
  }

  &-title,
  &-summary,
  &-role {
    grid-column: 2 / 3;
  }

  &-summary {
    color: variables.$color-heather;

    > * + * {
      margin-top: variables.$space-8;

      @include mixins.bp-md-up {
        margin-top: variables.$space-16;
      }
    }
  }

  &-title {
    justify-self: start;

    @include mixins.bp-md-up {
      .project:nth-child(odd) & {
        justify-self: end;
      }
    }
  }

  &-image {
    grid-column: 1 / -1;
    width: 100%;
    height: 70vh;
    opacity: 0;
    transition:
      opacity 1s ease-in-out,
      scale 1s ease-in-out;
    transform-origin: bottom;
    scale: 0.95;
    object-fit: cover;

    &-visible {
      opacity: 1;
      scale: 1;
    }

    @include mixins.bp-md-up {
      grid-column: 1 / 3;
      transform-origin: left;

      .project:nth-child(even) & {
        grid-column: 2 / 4;
        transform-origin: right;
      }
    }
  }

  &-role {
    font-size: variables.$font-size-h3;
  }
}
